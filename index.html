<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My CS Electives Timetable</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f4f4f5; }
        
        /* Compact Grid Handling */
        .timetable-cell {
            vertical-align: top;
            height: 100px;
            padding: 0.25rem;
            border-right: 1px solid #e5e7eb;
            position: relative;
        }
        
        .subject-card {
            padding: 0.5rem;
            border-radius: 0.5rem;
            margin-bottom: 4px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            font-size: 0.75rem;
            line-height: 1.3;
            transition: all 0.2s ease;
            border-left-width: 4px;
            display: none; /* Hidden by default until JS runs */
        }
        .subject-card.active { display: block; }

        /* Course Specific Colors */
        .course-CS60118 { background-color: #dbeafe; border-color: #2563eb; color: #1e3a8a; } /* Blue */
        .course-CS60003 { background-color: #dcfce7; border-color: #16a34a; color: #14532d; } /* Green */
        .course-CS60010 { background-color: #fce7f3; border-color: #db2777; color: #831843; } /* Pink */
        .course-CS60112 { background-color: #ffedd5; border-color: #ea580c; color: #7c2d12; } /* Orange */
        .course-EP61201 { background-color: #f3e8ff; border-color: #9333ea; color: #581c87; } /* Purple */
        .course-CS69202 { background-color: #e5e7eb; border-color: #4b5563; color: #1f2937; } /* Gray */
        
        /* NEW COURSE COLOR */
        .course-AI60006 { background-color: #fef9c3; border-color: #ca8a04; color: #854d0e; } /* Yellow/Gold */

        .time-header { width: 80px; text-align: center; font-size: 0.7rem; color: #6b7280; }
    </style>
</head>
<body class="p-4 md:p-8 text-zinc-800">

    <div class="max-w-7xl mx-auto">
        <header class="mb-6 flex justify-between items-end">
            <div>
                <h1 class="text-3xl font-bold text-zinc-800">Timetable</h1>
                <p class="text-zinc-500 text-sm mt-1">Spring 2025 ‚Ä¢ Customized View</p>
            </div>
        </header>

        <div class="bg-white p-4 rounded-xl shadow-sm border border-zinc-200 mb-6">
            <h2 class="text-sm font-bold text-zinc-500 uppercase tracking-wider mb-3">Active Courses</h2>
            <div id="controls" class="flex flex-wrap gap-3">
                </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-zinc-200 overflow-x-auto">
            <table class="w-full text-sm text-left text-zinc-500 table-fixed min-w-[1000px]">
                <thead class="text-xs text-zinc-700 uppercase bg-zinc-50 border-b">
                    <tr>
                        <th class="px-4 py-3 w-24 text-center border-r">Day</th>
                        <th class="time-header">8:00</th>
                        <th class="time-header">9:00</th>
                        <th class="time-header">10:00</th>
                        <th class="time-header">11:00</th>
                        <th class="time-header">12:00</th>
                        <th class="time-header">2:00 PM</th>
                        <th class="time-header">3:00 PM</th>
                        <th class="time-header">4:00 PM</th>
                        <th class="time-header">5:00 PM</th>
                    </tr>
                </thead>
                <tbody id="timetable-body" class="divide-y divide-zinc-100">
                    </tbody>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // 1. Defined Courses
            const myCourses = [
                { 
                    id: "AI60006", 
                    name: "Dependable & Secure AI-ML", 
                    room: "TBA", // Room not specified in image
                    times: [
                        {d: 0, t: 12}, // Mon 12-1
                        {d: 1, t: 10}, {d: 1, t: 11} // Tue 10-12
                    ]
                },
                { 
                    id: "CS60118", 
                    name: "Cloud Computing", 
                    room: "NR224",
                    times: [
                        {d: 0, t: 8}, {d: 0, t: 9}, // Mon 8-10
                        {d: 1, t: 12} // Tue 12-1
                    ]
                },
                { 
                    id: "CS60003", 
                    name: "High Performance Arch.", 
                    room: "NR321",
                    times: [
                        {d: 0, t: 10}, // Mon 10-11
                        {d: 2, t: 8}, {d: 2, t: 9}, // Wed 8-10
                        {d: 3, t: 10}  // Thu 10-11
                    ]
                },
                { 
                    id: "CS60010", 
                    name: "Deep Learning", 
                    room: "NR122",
                    times: [
                        {d: 0, t: 14}, // Mon 2-3
                        {d: 1, t: 16}, {d: 1, t: 17} // Tue 4-6
                    ]
                },
                { 
                    id: "CS60112", 
                    name: "Info. & System Security", 
                    room: "CSE-119",
                    times: [
                        {d: 2, t: 10}, // Wed 10-11
                        {d: 3, t: 9},  // Thu 9-10
                        {d: 4, t: 11}  // Fri 11-12
                    ]
                },
                { 
                    id: "EP61201", 
                    name: "Entrepreneurship (EP)", 
                    room: "NR212",
                    times: [
                        {d: 0, t: 11}, // Mon 11-12
                        {d: 0, t: 17}, // Mon 5-6
                        {d: 1, t: 8}, {d: 1, t: 9} // Tue 8-10
                    ]
                },
                { 
                    id: "CS69202", 
                    name: "Design Lab", 
                    room: "Lab",
                    times: [
                        {d: 2, t: 14}, {d: 2, t: 15}, {d: 2, t: 16}, // Wed 2-5
                        {d: 3, t: 14}, {d: 3, t: 15}, {d: 3, t: 16} // Thu 3-4
                    ]
                }
            ];

            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];
            const timeSlots = [8, 9, 10, 11, 12, 14, 15, 16, 17]; // 24h format mapping

            // 2. Generate Controls
            const controlsDiv = document.getElementById('controls');
            myCourses.forEach(course => {
                const wrapper = document.createElement('div');
                wrapper.className = 'flex items-center space-x-2 bg-zinc-50 px-3 py-2 rounded-lg border border-zinc-200';
                wrapper.innerHTML = `
                    <input type="checkbox" id="cb-${course.id}" value="${course.id}" checked 
                           class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500 cursor-pointer">
                    <label for="cb-${course.id}" class="cursor-pointer text-xs font-medium text-zinc-700">
                        <span class="font-bold">${course.id}</span>
                    </label>
                `;
                controlsDiv.appendChild(wrapper);
            });

            // 3. Build Grid
            const tbody = document.getElementById('timetable-body');
            days.forEach((day, dayIndex) => {
                const tr = document.createElement('tr');
                
                // Day Header
                let html = `<th class="px-4 py-4 font-bold text-zinc-900 bg-zinc-50 border-r text-center">${day.substring(0,3)}</th>`;
                
                // Time Cells
                timeSlots.forEach(time => {
                    html += `<td id="cell-${dayIndex}-${time}" class="timetable-cell"></td>`;
                });
                tr.innerHTML = html;
                tbody.appendChild(tr);
            });

            // 4. Place Cards
            myCourses.forEach(course => {
                course.times.forEach(slot => {
                    const cell = document.getElementById(`cell-${slot.d}-${slot.t}`);
                    if (cell) {
                        const card = document.createElement('div');
                        card.className = `subject-card course-${course.id} active`;
                        card.setAttribute('data-id', course.id);
                        card.innerHTML = `
                            <div class="font-bold">${course.id}</div>
                            <div class="truncate">${course.name}</div>
                            <div class="mt-1 font-mono text-[10px] opacity-75">üìç ${course.room}</div>
                        `;
                        cell.appendChild(card);
                    }
                });
            });

            // 5. Interactivity
            controlsDiv.addEventListener('change', (e) => {
                if(e.target.tagName === 'INPUT') {
                    const id = e.target.value;
                    const isChecked = e.target.checked;
                    document.querySelectorAll(`.subject-card[data-id="${id}"]`).forEach(card => {
                        card.style.display = isChecked ? 'block' : 'none';
                    });
                }
            });

        });
    </script>
</body>
</html>
